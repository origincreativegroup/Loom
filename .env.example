# ============================================================================
# Loom OSINT Console - Environment Configuration for Pi-Net
# ============================================================================
#
# Copy this file to .env and customize for your pi-net setup
# Usage: cp .env.example .env
#

# ----------------------------------------------------------------------------
# Ollama Configuration
# ----------------------------------------------------------------------------
# URL to your Ollama instance. Your pi-net has multiple Ollama servers:
#
# Option 1 - Pi-Forge (192.168.50.157:11434) - Recommended for balanced load
OLLAMA_URL=http://192.168.50.157:11434
#
# Option 2 - Pi-5/pi-core (192.168.50.168:11435) - Alternative
# OLLAMA_URL=http://192.168.50.168:11435
#
# Option 3 - AI-Srv (192.168.50.247:11434) - If dedicated to AI workloads
# OLLAMA_URL=http://192.168.50.247:11434
#
# Option 4 - Via Caddy domain (requires reverse proxy setup)
# OLLAMA_URL=https://ollama.lan

# Ollama model to use for query planning and synthesis
# Examples: llama3.2:latest, mistral:latest, phi3:latest, mixtral:latest
# Run 'ollama list' on your Ollama host to see available models
OLLAMA_MODEL=llama3.2:latest

# ----------------------------------------------------------------------------
# Search Configuration
# ----------------------------------------------------------------------------
# Pi-net doesn't have SearXNG deployed yet, but you have OSINT tools.
# For now, you can either:
#
# Option 1: Deploy SearXNG (recommended for Loom)
# SEARXNG_URL=http://192.168.50.xxx:8080
#
# Option 2: Use a public SearXNG instance (temporary)
SEARXNG_URL=https://search.bus-hit.me
#
# Option 3: Deploy on NexusNAS and add Caddy reverse proxy
# SEARXNG_URL=https://search.lan
#
# Note: SpiderFoot (spider.lan) and IntelOwl (intelowl.lan) are available
# but have different APIs. SearXNG is recommended for Loom's workflow.

# ----------------------------------------------------------------------------
# Data Storage
# ----------------------------------------------------------------------------
# Directory where case data will be stored
# Default: /data (as mapped in docker-compose.yml)
DATA_DIR=/data

# ----------------------------------------------------------------------------
# Security (Optional)
# ----------------------------------------------------------------------------
# API key for securing the Loom API
# Leave empty to disable authentication (LAN/VPN use only!)
# If set, the UI will prompt for this key
# Example: OSINT_API_KEY=your-secret-key-here
OSINT_API_KEY=

# ----------------------------------------------------------------------------
# Network Configuration (Reference)
# ----------------------------------------------------------------------------
# These are used in docker-compose.yml
# UI Port: 8788 (Nginx serving frontend)
# API Port: 8787 (FastAPI backend)
#
# Recommended deployment hosts for your pi-net:
#
# Option 1 - NexusNAS (192.168.50.199) - RECOMMENDED
#   Pros: Always-on, centralized with other services, plenty of resources
#   Access: http://192.168.50.199:8788 (UI), http://192.168.50.199:8787 (API)
#   Add to Caddy for: https://loom.lan
#
# Option 2 - pi-net Gateway (192.168.50.70)
#   Pros: Gateway device, high availability
#   Access: http://192.168.50.70:8788 (UI), http://192.168.50.70:8787 (API)
#   Add to Caddy for: https://loom.lan
#
# Option 3 - Pi-Forge (192.168.50.157) or Pi-5 (192.168.50.168)
#   Pros: Colocated with Ollama for lower latency
#   Access: http://<pi-ip>:8788 (UI), http://<pi-ip>:8787 (API)
#
# ----------------------------------------------------------------------------
# Caddy Reverse Proxy Setup (Optional but Recommended)
# ----------------------------------------------------------------------------
# Add to /etc/caddy/Caddyfile on pi-net (192.168.50.70):
#
# loom.lan {
#     reverse_proxy <loom-host-ip>:8788
# }
#
# loom-api.lan {
#     reverse_proxy <loom-host-ip>:8787
# }
#
# Then access via:
#   - https://loom.lan (UI)
#   - https://loom-api.lan/docs (API docs)
#
# Don't forget to add DNS entries to /etc/dnsmasq.d/02-lan-hosts.conf
